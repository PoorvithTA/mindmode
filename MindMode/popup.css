@import url("https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&display=swap");

/* ─── CSS Variables ────────────────────────────────────────────── */
:root {
  --bg-primary:   #0d0f14;
  --bg-secondary: #141720;
  --bg-tertiary:  #1c2030;
  --bg-hover:     #21263a;

  --text-primary:   #e8eaed;
  --text-secondary: #9aa0a6;
  --text-tertiary:  #5f6368;

  --accent-gradient:   linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --accent-gradient-2: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  --accent-gradient-3: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
  --accent-gradient-4: linear-gradient(135deg, #fa709a 0%, #fee140 100%);

  --study-color:    #818cf8;
  --deepwork-color: #38bdf8;
  --chill-color:    #c084fc;
  --free-color:     #4ade80;

  --study-grad:    linear-gradient(135deg, #667eea, #818cf8);
  --deepwork-grad: linear-gradient(135deg, #0ea5e9, #38bdf8);
  --chill-grad:    linear-gradient(135deg, #8b5cf6, #c084fc);
  --free-grad:     linear-gradient(135deg, #22c55e, #4ade80);

  --shadow-sm: 0 2px 8px rgba(0,0,0,0.4);
  --shadow-md: 0 4px 16px rgba(0,0,0,0.5);
  --shadow-lg: 0 8px 32px rgba(0,0,0,0.6);

  --radius-sm:   8px;
  --radius-md:   12px;
  --radius-lg:   16px;
  --radius-xl:   20px;
  --radius-full: 9999px;

  --transition: 0.2s cubic-bezier(0.4,0,0.2,1);
}

/* ─── Reset & Base ─────────────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

body {
  width: 390px;
  background: var(--bg-primary);
  color: var(--text-primary);
  font-family: "DM Sans", -apple-system, sans-serif;
  font-size: 14px;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  overflow-x: hidden;
}

.material-symbols-rounded {
  font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
  font-size: 18px;
  vertical-align: middle;
  line-height: 1;
}

#app { padding: 16px 18px 24px; }

/* ─── Header ───────────────────────────────────────────────────── */
.popup-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 20px;
}

.header-left {
  display: flex;
  align-items: center;
  gap: 12px;
}

.logo-wrap {
  width: 40px;
  height: 40px;
  border-radius: var(--radius-md);
  background: var(--accent-gradient);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 14px rgba(102,126,234,0.4);
}

.logo-icon {
  font-size: 22px !important;
  color: #fff;
}

.logo-text {
  font-size: 17px;
  font-weight: 700;
  letter-spacing: -0.03em;
  background: linear-gradient(135deg, #e8eaed, #9aa0a6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.logo-sub {
  font-size: 10px;
  color: var(--text-tertiary);
  letter-spacing: 0.3px;
  margin-top: 1px;
}

.header-right {
  display: flex;
  gap: 6px;
}

.hdr-btn {
  width: 34px;
  height: 34px;
  border-radius: var(--radius-sm);
  background: var(--bg-secondary);
  border: 1px solid var(--bg-tertiary);
  color: var(--text-tertiary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
}
.hdr-btn:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
  border-color: rgba(102,126,234,0.3);
}

/* ─── Session Banner ──────────────────────────────────────────── */
.session-banner {
  background: var(--bg-secondary);
  border: 1px solid rgba(102,126,234,0.2);
  border-radius: var(--radius-xl);
  padding: 16px;
  margin-bottom: 18px;
  box-shadow: 0 0 0 1px rgba(102,126,234,0.1), var(--shadow-sm);
}

.sb-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.sb-mode-info {
  display: flex;
  align-items: center;
  gap: 10px;
}

.sb-icon {
  font-size: 20px !important;
  color: var(--study-color);
}

.sb-label {
  font-size: 13px;
  font-weight: 700;
  color: var(--text-primary);
}

.sb-sublabel {
  font-size: 10px;
  color: var(--text-tertiary);
  letter-spacing: 0.2px;
  margin-top: 1px;
}

.sb-timer {
  font-size: 26px;
  font-weight: 800;
  letter-spacing: -0.5px;
  font-variant-numeric: tabular-nums;
  background: var(--accent-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.sb-bar-track {
  height: 4px;
  background: var(--bg-tertiary);
  border-radius: var(--radius-full);
  overflow: hidden;
  margin-bottom: 12px;
}

.sb-bar-fill {
  height: 100%;
  width: 100%;
  background: var(--accent-gradient);
  border-radius: var(--radius-full);
  transition: width 1s linear;
}

.sb-stats-row {
  display: flex;
  gap: 14px;
  margin-bottom: 12px;
}

.sb-mini-stat {
  display: flex;
  align-items: center;
  gap: 5px;
  font-size: 12px;
  color: var(--text-tertiary);
}
.sb-mini-stat .material-symbols-rounded { font-size: 14px !important; }
.sb-mini-stat span { color: var(--text-secondary); font-weight: 600; }
.focus-stat { margin-left: auto; }
.focus-stat span { color: #4ade80; }

.end-btn {
  width: 100%;
  background: transparent;
  border: 1px solid var(--bg-tertiary);
  color: var(--text-tertiary);
  padding: 8px;
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: 12px;
  font-family: "DM Sans", sans-serif;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  transition: var(--transition);
}
.end-btn:hover { border-color: #f87171; color: #f87171; }

/* ─── Section Label ────────────────────────────────────────────── */
.section-label {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  font-weight: 700;
  color: var(--text-tertiary);
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 12px;
}
.section-label .material-symbols-rounded { font-size: 15px !important; }

/* ─── Mode Grid ────────────────────────────────────────────────── */
.modes-section { margin-bottom: 16px; }

.mode-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.mode-card {
  background: var(--bg-secondary);
  border: 1.5px solid var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: 14px 12px;
  cursor: pointer;
  text-align: left;
  color: var(--text-primary);
  font-family: "DM Sans", sans-serif;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
}

.mode-card::before {
  content: "";
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 2px;
  opacity: 0;
  transition: opacity var(--transition);
}
.mode-card[data-mode="study"]::before    { background: var(--study-grad); }
.mode-card[data-mode="deepwork"]::before { background: var(--deepwork-grad); }
.mode-card[data-mode="chill"]::before    { background: var(--chill-grad); }
.mode-card[data-mode="free"]::before     { background: var(--free-grad); }

.mode-card:hover { background: var(--bg-hover); border-color: rgba(255,255,255,0.1); transform: translateY(-2px); box-shadow: var(--shadow-md); }
.mode-card:hover::before { opacity: 1; }

.mode-card.active { transform: translateY(-2px); box-shadow: var(--shadow-md); }
.mode-card.active[data-mode="study"]    { border-color: var(--study-color);    background: rgba(129,140,248,0.08); }
.mode-card.active[data-mode="deepwork"] { border-color: var(--deepwork-color); background: rgba(56,189,248,0.08); }
.mode-card.active[data-mode="chill"]    { border-color: var(--chill-color);    background: rgba(192,132,252,0.08); }
.mode-card.active[data-mode="free"]     { border-color: var(--free-color);     background: rgba(74,222,128,0.08); }
.mode-card.active::before { opacity: 1; }

.mc-top {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 10px;
}

.mc-icon {
  width: 34px;
  height: 34px;
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
}
.mc-icon.study    { background: rgba(129,140,248,0.15); color: var(--study-color); }
.mc-icon.deepwork { background: rgba(56,189,248,0.15);  color: var(--deepwork-color); }
.mc-icon.chill    { background: rgba(192,132,252,0.15); color: var(--chill-color); }
.mc-icon.free     { background: rgba(74,222,128,0.15);  color: var(--free-color); }

.mc-badge {
  font-size: 9px;
  font-weight: 700;
  padding: 2px 7px;
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: #fff;
  border-radius: var(--radius-full);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.mc-name {
  font-size: 13px;
  font-weight: 700;
  margin-bottom: 4px;
}

.mc-desc {
  font-size: 11px;
  color: var(--text-tertiary);
  line-height: 1.5;
  margin-bottom: 10px;
}

.mc-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
}
.mc-tags span {
  display: inline-flex;
  align-items: center;
  gap: 3px;
  font-size: 10px;
  color: var(--text-tertiary);
  background: var(--bg-tertiary);
  padding: 2px 7px;
  border-radius: var(--radius-full);
}
.mc-tags span .material-symbols-rounded { font-size: 11px !important; }

/* ─── Duration Panel ───────────────────────────────────────────── */
.duration-panel {
  background: var(--bg-secondary);
  border: 1px solid var(--bg-tertiary);
  border-radius: var(--radius-xl);
  padding: 16px;
  margin-bottom: 14px;
  animation: slideDown 0.2s ease;
}

@keyframes slideDown {
  from { opacity: 0; transform: translateY(-8px); }
  to   { opacity: 1; transform: translateY(0); }
}

.dp-header {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: 12px;
}

.dp-pills {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  margin-bottom: 14px;
}

.dp-pill {
  flex: 1;
  min-width: 44px;
  padding: 7px 4px;
  background: var(--bg-tertiary);
  border: 1px solid rgba(255,255,255,0.04);
  color: var(--text-secondary);
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: 12px;
  font-family: "DM Sans", sans-serif;
  font-weight: 500;
  text-align: center;
  transition: var(--transition);
}
.dp-pill:hover { background: var(--bg-hover); color: var(--text-primary); }
.dp-pill.active {
  background: rgba(102,126,234,0.15);
  border-color: rgba(102,126,234,0.4);
  color: #818cf8;
  font-weight: 700;
}

/* ─── Start Button ─────────────────────────────────────────────── */
.start-btn {
  width: 100%;
  background: var(--accent-gradient);
  color: #fff;
  border: none;
  padding: 12px;
  border-radius: var(--radius-lg);
  font-size: 14px;
  font-weight: 700;
  font-family: "DM Sans", sans-serif;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  transition: var(--transition);
  letter-spacing: 0.2px;
  box-shadow: 0 4px 18px rgba(102,126,234,0.35);
}
.start-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 24px rgba(102,126,234,0.5); }
.start-btn:active { transform: translateY(0); }
.start-btn .material-symbols-rounded { font-size: 18px !important; }

/* ─── Summary View ─────────────────────────────────────────────── */
.summary-hero {
  text-align: center;
  margin-bottom: 20px;
}

.summary-icon-wrap {
  width: 72px;
  height: 72px;
  border-radius: 50%;
  background: linear-gradient(135deg, rgba(102,126,234,0.2), rgba(118,75,162,0.2));
  border: 2px solid rgba(102,126,234,0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 14px;
  animation: popIn 0.5s cubic-bezier(0.175,0.885,0.32,1.275);
}

@keyframes popIn {
  from { transform: scale(0.5); opacity: 0; }
  to   { transform: scale(1); opacity: 1; }
}

.summary-icon { font-size: 34px !important; color: #818cf8; }

.summary-title { font-size: 20px; font-weight: 800; margin-bottom: 4px; }
.summary-sub   { font-size: 13px; color: var(--text-tertiary); }

.score-ring-wrap {
  position: relative;
  width: 130px;
  height: 130px;
  margin: 0 auto 20px;
  display: flex;
  align-items: center;
  justify-content: center;
}

#scoreRing { position: absolute; top: 0; left: 0; }

.score-center { text-align: center; position: relative; z-index: 1; }
.score-num {
  display: block;
  font-size: 30px;
  font-weight: 800;
  background: var(--accent-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.score-lbl { font-size: 10px; color: var(--text-tertiary); text-transform: uppercase; letter-spacing: 0.8px; }

.summary-stats-row {
  display: flex;
  gap: 10px;
  margin-bottom: 16px;
}

.sum-stat {
  flex: 1;
  background: var(--bg-secondary);
  border: 1px solid var(--bg-tertiary);
  border-radius: var(--radius-lg);
  padding: 12px 8px;
  text-align: center;
}
.sum-stat .material-symbols-rounded { font-size: 16px !important; color: var(--text-tertiary); display: block; margin-bottom: 4px; }
.sum-val { display: block; font-size: 22px; font-weight: 800; color: var(--text-primary); }
.sum-stat label { font-size: 10px; color: var(--text-tertiary); text-transform: uppercase; letter-spacing: 0.5px; }

.top-sites-wrap { margin-bottom: 16px; }

.top-site-label {
  font-size: 10px;
  font-weight: 700;
  color: var(--text-tertiary);
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 8px;
}

.top-site-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  background: var(--bg-secondary);
  border-radius: var(--radius-md);
  margin-bottom: 4px;
}
.top-site-domain { font-size: 13px; font-weight: 500; color: var(--text-primary); }
.top-site-count  { font-size: 11px; color: var(--text-tertiary); }

/* ─── View Header (Settings / About) ─────────────────────────── */
.view-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 22px;
}

.back-btn {
  width: 36px;
  height: 36px;
  border-radius: var(--radius-md);
  background: var(--bg-secondary);
  border: 1px solid var(--bg-tertiary);
  color: var(--text-secondary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
  flex-shrink: 0;
}
.back-btn:hover { background: var(--bg-hover); color: var(--text-primary); }

.view-title { font-size: 16px; font-weight: 700; }
.view-sub   { font-size: 11px; color: var(--text-tertiary); margin-top: 2px; }

/* ─── Settings View ────────────────────────────────────────────── */
.settings-section {
  background: var(--bg-secondary);
  border: 1px solid var(--bg-tertiary);
  border-radius: var(--radius-xl);
  padding: 16px;
  margin-bottom: 12px;
}

.settings-section-label {
  display: flex;
  align-items: center;
  gap: 7px;
  font-size: 11px;
  font-weight: 700;
  color: var(--text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.8px;
  margin-bottom: 8px;
}
.settings-section-label .material-symbols-rounded { font-size: 14px !important; }

.settings-hint {
  font-size: 12px;
  color: var(--text-tertiary);
  margin-bottom: 12px;
}

.tag-cloud {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-bottom: 10px;
  min-height: 24px;
}

.tag {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  background: rgba(102,126,234,0.12);
  border: 1px solid rgba(102,126,234,0.25);
  color: #818cf8;
  padding: 4px 10px;
  border-radius: var(--radius-full);
  font-size: 12px;
  font-weight: 500;
}

.tag-remove {
  cursor: pointer;
  color: rgba(129,140,248,0.6);
  font-size: 14px;
  line-height: 1;
  background: none;
  border: none;
  padding: 0;
  display: flex;
  align-items: center;
  transition: var(--transition);
}
.tag-remove:hover { color: #f87171; }

.input-row {
  display: flex;
  gap: 8px;
}

.text-input {
  flex: 1;
  background: var(--bg-tertiary);
  border: 1px solid rgba(255,255,255,0.06);
  color: var(--text-primary);
  padding: 9px 12px;
  border-radius: var(--radius-md);
  font-size: 13px;
  font-family: "DM Sans", sans-serif;
  outline: none;
  transition: var(--transition);
}
.text-input::placeholder { color: var(--text-tertiary); }
.text-input:focus { border-color: rgba(102,126,234,0.5); box-shadow: 0 0 0 3px rgba(102,126,234,0.1); }

.icon-action-btn {
  width: 38px;
  height: 38px;
  background: var(--accent-gradient);
  border: none;
  border-radius: var(--radius-md);
  color: #fff;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
  box-shadow: 0 2px 10px rgba(102,126,234,0.3);
  flex-shrink: 0;
}
.icon-action-btn:hover { transform: translateY(-1px); box-shadow: 0 4px 14px rgba(102,126,234,0.4); }

.max-tabs-grid { display: flex; flex-direction: column; gap: 10px; }

.mt-row {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  background: var(--bg-tertiary);
  border-radius: var(--radius-md);
}
.mt-row i { font-size: 15px; color: var(--text-tertiary); }
.mt-row span:not(.mt-unit) { flex: 1; font-size: 13px; color: var(--text-secondary); }
.mt-unit { font-size: 12px; color: var(--text-tertiary); }

.num-input {
  width: 56px;
  background: var(--bg-secondary);
  border: 1px solid rgba(255,255,255,0.08);
  color: var(--text-primary);
  padding: 6px 8px;
  border-radius: var(--radius-sm);
  font-size: 13px;
  font-weight: 700;
  font-family: "DM Sans", sans-serif;
  text-align: center;
  outline: none;
}
.num-input:focus { border-color: rgba(102,126,234,0.4); }

.schedule-list { display: flex; flex-direction: column; gap: 8px; margin-bottom: 10px; }

.schedule-entry {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  background: var(--bg-tertiary);
  border-radius: var(--radius-md);
}

.schedule-entry select,
.schedule-entry input[type="time"] {
  background: var(--bg-secondary);
  border: 1px solid rgba(255,255,255,0.06);
  color: var(--text-primary);
  padding: 6px 8px;
  border-radius: var(--radius-sm);
  font-size: 12px;
  font-family: "DM Sans", sans-serif;
  outline: none;
}

.schedule-entry input[type="number"] {
  width: 58px;
  background: var(--bg-secondary);
  border: 1px solid rgba(255,255,255,0.06);
  color: var(--text-primary);
  padding: 6px 8px;
  border-radius: var(--radius-sm);
  font-size: 12px;
  font-family: "DM Sans", sans-serif;
  text-align: center;
  outline: none;
}

.schedule-remove {
  background: none;
  border: none;
  color: var(--text-tertiary);
  cursor: pointer;
  font-size: 16px;
  display: flex;
  align-items: center;
  padding: 2px;
  transition: var(--transition);
  margin-left: auto;
}
.schedule-remove:hover { color: #f87171; }

.outline-action-btn {
  width: 100%;
  background: transparent;
  border: 1.5px dashed var(--bg-tertiary);
  color: var(--text-tertiary);
  padding: 9px;
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: 13px;
  font-family: "DM Sans", sans-serif;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  transition: var(--transition);
}
.outline-action-btn:hover { border-color: rgba(102,126,234,0.4); color: #818cf8; }

/* ─── About View ───────────────────────────────────────────────── */
.about-hero-card {
  background: var(--bg-secondary);
  border: 1px solid var(--bg-tertiary);
  border-radius: var(--radius-xl);
  padding: 18px;
  margin-bottom: 14px;
  position: relative;
  overflow: hidden;
}

.about-hero-card::before {
  content: "";
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 2px;
  background: var(--accent-gradient);
}

.about-logo-row {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 14px;
}

.about-logo-icon {
  width: 46px;
  height: 46px;
  background: var(--accent-gradient);
  border-radius: var(--radius-md);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 16px rgba(102,126,234,0.4);
  flex-shrink: 0;
}
.about-logo-icon .material-symbols-rounded { font-size: 24px !important; color: #fff; }

.about-name    { font-size: 17px; font-weight: 800; letter-spacing: -0.02em; }
.about-tagline { font-size: 11px; color: var(--text-tertiary); margin-top: 2px; }

.about-desc {
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.7;
  margin-bottom: 14px;
}

.about-privacy-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: rgba(74,222,128,0.1);
  border: 1px solid rgba(74,222,128,0.2);
  color: #4ade80;
  padding: 6px 12px;
  border-radius: var(--radius-full);
  font-size: 11px;
  font-weight: 600;
}
.about-privacy-badge .material-symbols-rounded { font-size: 14px !important; }

.about-modes-section,
.about-links-section {
  background: var(--bg-secondary);
  border: 1px solid var(--bg-tertiary);
  border-radius: var(--radius-xl);
  padding: 16px;
  margin-bottom: 12px;
}

.about-mode-list { display: flex; flex-direction: column; gap: 12px; margin-top: 4px; }

.about-mode-row {
  display: flex;
  align-items: center;
  gap: 12px;
}

.about-mode-icon {
  width: 36px;
  height: 36px;
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 15px;
  flex-shrink: 0;
}
.about-mode-icon.study    { background: rgba(129,140,248,0.15); color: var(--study-color); }
.about-mode-icon.deepwork { background: rgba(56,189,248,0.15);  color: var(--deepwork-color); }
.about-mode-icon.chill    { background: rgba(192,132,252,0.15); color: var(--chill-color); }
.about-mode-icon.free     { background: rgba(74,222,128,0.15);  color: var(--free-color); }

.about-mode-info { flex: 1; }
.about-mode-info strong { display: block; font-size: 13px; font-weight: 700; margin-bottom: 2px; }
.about-mode-info span   { font-size: 11px; color: var(--text-tertiary); line-height: 1.4; }

.about-links-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  margin-top: 4px;
}

.about-link-card {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  background: var(--bg-tertiary);
  border: 1px solid rgba(255,255,255,0.04);
  border-radius: var(--radius-md);
  text-decoration: none;
  color: var(--text-secondary);
  font-size: 12px;
  font-weight: 600;
  transition: var(--transition);
}
.about-link-card i { font-size: 15px; }
.about-link-card span:nth-child(2) { flex: 1; }
.about-link-card:hover {
  background: var(--accent-gradient);
  color: #fff;
  border-color: transparent;
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}
.open-icon { font-size: 12px !important; opacity: 0.6; }

/* ─── AI Smart Blocklist ───────────────────────────────────────── */
.ai-section { position: relative; overflow: hidden; }
.ai-section::before {
  content: "";
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 2px;
  background: linear-gradient(90deg, #667eea, #a78bfa, #38bdf8);
}

.ai-section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 6px;
}

.ai-pill-btn {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  background: rgba(102,126,234,0.12);
  border: 1px solid rgba(102,126,234,0.3);
  color: #818cf8;
  padding: 5px 12px;
  border-radius: var(--radius-full);
  font-size: 12px;
  font-weight: 700;
  font-family: "DM Sans", sans-serif;
  cursor: pointer;
  transition: var(--transition);
}
.ai-pill-btn:hover { background: rgba(102,126,234,0.22); box-shadow: 0 0 12px rgba(102,126,234,0.25); }
.ai-pill-btn:disabled { opacity: 0.5; cursor: not-allowed; }
.ai-pill-btn .material-symbols-rounded { font-size: 14px !important; }
.ai-pill-btn.spinning .material-symbols-rounded { animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

.ai-loading-row {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px;
  background: rgba(102,126,234,0.06);
  border-radius: var(--radius-md);
  margin-bottom: 10px;
  font-size: 12px;
  color: var(--text-secondary);
}

.ai-loader-dots { display: flex; gap: 4px; }
.ai-loader-dots span {
  width: 6px; height: 6px;
  background: #818cf8;
  border-radius: 50%;
  animation: dotBounce 1.2s ease-in-out infinite;
}
.ai-loader-dots span:nth-child(2) { animation-delay: 0.2s; }
.ai-loader-dots span:nth-child(3) { animation-delay: 0.4s; }
@keyframes dotBounce {
  0%, 80%, 100% { transform: scale(0.6); opacity: 0.4; }
  40% { transform: scale(1); opacity: 1; }
}

.ai-error-row {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  background: rgba(248,113,113,0.08);
  border: 1px solid rgba(248,113,113,0.2);
  border-radius: var(--radius-md);
  margin-bottom: 10px;
  font-size: 12px;
  color: #f87171;
}
.ai-error-row .material-symbols-rounded { font-size: 16px !important; }

.blocklist-cats { display: flex; flex-direction: column; gap: 8px; margin-bottom: 10px; }

.bl-category {
  background: var(--bg-tertiary);
  border-radius: var(--radius-md);
  overflow: hidden;
}

.bl-cat-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 9px 12px;
  cursor: pointer;
  user-select: none;
}

.bl-cat-left {
  display: flex;
  align-items: center;
  gap: 8px;
}

.bl-cat-icon { font-size: 15px; }

.bl-cat-name {
  font-size: 12px;
  font-weight: 700;
  color: var(--text-primary);
}

.bl-cat-count {
  font-size: 10px;
  color: var(--text-tertiary);
  background: var(--bg-secondary);
  padding: 2px 7px;
  border-radius: var(--radius-full);
}

.bl-cat-toggle {
  font-size: 14px !important;
  color: var(--text-tertiary);
  transition: transform 0.2s;
}
.bl-category.expanded .bl-cat-toggle { transform: rotate(180deg); }

.bl-cat-body {
  display: none;
  padding: 0 12px 10px;
  flex-wrap: wrap;
  gap: 5px;
}
.bl-category.expanded .bl-cat-body { display: flex; }

.bl-domain-tag {
  font-size: 11px;
  color: var(--text-secondary);
  background: var(--bg-secondary);
  padding: 3px 9px;
  border-radius: var(--radius-full);
  border: 1px solid rgba(255,255,255,0.04);
}

.ai-meta-row {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 10px;
  color: var(--text-tertiary);
  padding-top: 4px;
}
.ai-meta-row .material-symbols-rounded { font-size: 13px !important; color: #4ade80; }

/* ─── Footer ───────────────────────────────────────────────────── */
.popup-footer {
  margin-top: 24px;
  padding-top: 16px;
  border-top: 1px solid var(--bg-tertiary);
  font-size: 12px;
  color: var(--text-tertiary);
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  flex-wrap: wrap;
}

.footer-heart {
  font-size: 13px !important;
  color: #f87171;
}

.footer-dot { color: var(--bg-tertiary); }

.footer-link {
  color: var(--text-secondary);
  text-decoration: none;
  font-weight: 600;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  transition: var(--transition);
}
.footer-link:hover { color: #818cf8; }

/* ─── Utilities ────────────────────────────────────────────────── */
.hidden { display: none !important; }

::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: var(--bg-primary); }
::-webkit-scrollbar-thumb { background: var(--bg-tertiary); border-radius: var(--radius-full); }
::-webkit-scrollbar-thumb:hover { background: var(--text-tertiary); }

select {
  appearance: none;
  cursor: pointer;
}

input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button { opacity: 1; }
